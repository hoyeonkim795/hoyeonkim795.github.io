<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="[Network] 어떻게 DNS 서버가 IP 주소를 조회할까" /><meta name="author" content="hoyeonkim" /><meta property="og:locale" content="en_US" /><meta name="description" content="02 웹서버의 IP 주소를 DNS 서버에 조회한다." /><meta property="og:description" content="02 웹서버의 IP 주소를 DNS 서버에 조회한다." /><link rel="canonical" href="https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/" /><meta property="og:url" content="https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/" /><meta property="og:site_name" content="Hoyeon" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-18T12:03:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Network] 어떻게 DNS 서버가 IP 주소를 조회할까" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@hoyeonkim" /><meta name="google-site-verification" content="google1cf08ff3ecb07dba.html" /> <script type="application/ld+json"> {"headline":"[Network] 어떻게 DNS 서버가 IP 주소를 조회할까","dateModified":"2021-04-03T01:09:37+09:00","datePublished":"2021-01-18T12:03:00+09:00","description":"02 웹서버의 IP 주소를 DNS 서버에 조회한다.","mainEntityOfPage":{"@type":"WebPage","@id":"https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/"},"url":"https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/","@type":"BlogPosting","author":{"@type":"Person","name":"hoyeonkim"},"@context":"https://schema.org"}</script><title>[Network] 어떻게 DNS 서버가 IP 주소를 조회할까 | Hoyeon</title><meta property="og:image" content="https://hoyeonkim795.github.io/assets/img/hamster.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><meta content = '3119c12aa5337b96f24bb6e1a1d06415' name = 'naver-site-verification'><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-REVMVHFLJX"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-REVMVHFLJX'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" style = "font-family: Jua;"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar/me.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hoyeon</a></div><div class="site-subtitle">햄찌 어멈 개발자</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hoyeonkim795" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hy940313','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-5" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[Network] 어떻게 DNS 서버가 IP 주소를 조회할까</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Network] 어떻게 DNS 서버가 IP 주소를 조회할까</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Jan 18, 2021, 12:03 PM +0900" > Jan 18, 2021 <i class="unloaded">2021-01-18T12:03:00+09:00</i> </span> by <span class="author"> hoyeonkim </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sat, Apr 3, 2021, 1:09 AM +0900" > Apr 3, 2021 <i class="unloaded">2021-04-03T01:09:37+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2419 words">13 min</span></div></div><div class="post-content"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4665417785081320" data-ad-slot="2909804994" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> window.onload = function() {(adsbygoogle = window.adsbygoogle || []).push({})}; </script><h1 id="02-웹서버의-ip-주소를-dns-서버에-조회한다">02 웹서버의 IP 주소를 DNS 서버에 조회한다.</h1><p>본 설명은 책 “성공과 실패를 결정하는 1%의 네트워크 원리”를 읽으며 제 나름대로 해석하고 정리해 보았습니다.</p><h1 id="1-ip-주소의-기본">1. IP 주소의 기본</h1><p>브라우저가 HTTP 리퀘스트 메시지를 만들지만, 메시지를 네트워크에 송출할 수 는 없다. 따라서 이를 OS에 의뢰하여 송신하는데, 이때 URL 에 써있는 도메인명 즉, IP 주소 값을 알아야한다. (즉, 내가 편지를 부친다고 치면 우체부(OS)가 편지를 배달하기 위해 편지에 적혀져있는 주소(IP)를 확인하는 것이다).</p><p>먼저, 이 개념을 설명하기 전에 <code class="language-plaintext highlighter-rouge">IP 주소</code> 에 대해 간략하게 짚고 넘어가보자.</p><p>여기서 알아야 할 개념이 <strong>서브넷</strong>, <strong>허브</strong>, <strong>라우터</strong> 이다. 간단하게 설명하자면 서브넷은 허브에 몇대의 컴퓨터가 접속한 것인지의 한개의 단위를 <strong>서브넷</strong> 이라고 한다. 그리고 이 서브넷들이 라우터에 연결되면 네트워크가 형성되는 것이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="\assets\img\DNS서버와IP주소 (2).png" alt="DNS서버와IP주소 (2)" /></p><p>다시 편지 개념을 생각해서 네트워크 주소를 ‘A동 B번지’ 라고 생각했을때 <code class="language-plaintext highlighter-rouge">서브넷이 A동</code>이 되고, <code class="language-plaintext highlighter-rouge">컴퓨터(PC)를 B번지</code>라고 할당한 것이 네트워크의 주소인 것이다. A동에 해당하는 것을 <strong>네트워크 번호</strong> 라고 하고, B번지에 해당하는 것을 <strong>호스트 번호</strong> 라고 한다. 그리고 이 두 주소를 합친것이 <strong>IP 주소</strong> 인 것이다. (참고로 헷갈리면 안되는 게 예를 들면 네이버주소 즉 얘네도 서버, 하나의 PC일 뿐이다. 때문에 “오잉 컴퓨터..? 사용자만 컴퓨터 즉 IP주소가 있는거아니야 ? “ 라고 생각하지말자)</p><p>그래서 이제 어떠한 순서대로, 리퀘스트 메시지가 전송되냐 ?</p><ol><li>송신측(사용자) 에서 메시지를 보내면 서브넷 안에 있는 허브가 이 메시지를 운반한다. (위의 그림에서 하단 왼쪽 PC라 생각하자)<li>그리고 송신측(사용자)에서 가장 가까운 라우터까지 도착한다. (왼쪽 하단위에 연결된 라우터)<li>그다음 라우터가 메시지를 보고 판단하여 다음 다음 라우터 어디에 보내야할지 판단하고<li>메시지를 보낸뒤, 해당 서브넷(예를들면 네이버쪽)의 허브가 라우터까지 메시지를 보낸다.</ol><h3 id="ip-주소-표기-방법에-대해는-아직-이해가-가지않는다-추후-업데이터-예정">IP 주소 표기 방법에 대해는 아직 이해가 가지않는다.. 추후 업데이터 예정</h3><h1 id="2-도메인명과-ip-주소를-구분하여-사용하는-이유">2. 도메인명과 IP 주소를 구분하여 사용하는 이유</h1><p>“그러면 그냥 IP 주소를 사용해서 굳이 도메인명에 해당하는 IP 주소 값을 찾지 않고, 그냥 IP 주소를 때려박으면 되는거 아니냐?” 라고 말할 수 있다.</p><p>그에 대한 답변은 “ 그래 그렇게 할 수 있는데, 굳이..? 너 그 번호 다 기억할 수 있어? 기억할 수 있다면 짱이고뭐..” 라고 말할 수 있겠다. 당연히 네이버를 네이버라고 기억하는게 쉽지 32비트짜리 IP 주소를 외우는건 참 비효율적이다.</p><p>또 그럼 이렇게 물어볼 수 있다.</p><p>“아니 그러면 그냥 IP주소 자체를 비트값말고 문자로 취급해버려~ 그럼 샐행효율도 좋고 사용자도 좋고 윈윈 아니야? “ 라고 말이다.</p><p>그렇지만, 인터넷 내부에는 규칙이라는 게 있다. 그래서 IP 주소에 의해 목적지가 어디인지 판단하면서 데이터를 들고다니는데 IP 주소 대신 이름을 쓰면? IP 주소는 32비트, 즉 4바이트 개수밖에 없지만, 도메인명은 적어도 수십 바이트 ~ 255바이트까지 될 수 있다. 그럼 결국 라우터가 당연히 부하되고 네트워크 속도는 똥망이 되는 것이다.</p><p>그럼 또 “아니 요새 기술도 발전했겠다.. 고성능 라우터 쓰면 되는거아냐?” 라고 물어볼 수 있다.</p><p>하지만 라우터 속도에는 아쉽게도 한계다. 사실 뭐 기술이 그렇게 발전했다 하지만들, 라우터 동작 속도는 향상됬지만 왔다갔다 하는 데이터 양도 그에 비해 엄청나게 증가하였기 때문에 위의 질문에 대한 대답은 “삐 —- 나가리입니다.” 라고 할 수 있다.</p><p>아 근데 생각해보니까 NAVER.COM에서 IP주소를 알게해주는게 누구야?</p><p>바로 <strong>DNS</strong>다.</p><p><strong>DNS</strong> 이 녀석이 이름을 알면 IP주소를 알 수 있고, IP 주소를 알면 이름을 알 수 있게 해주는 참 좋은 친구다.</p><h1 id="3-socket-라이브러리가-ip-주소를-찾는-기능을-제공한다">3. Socket 라이브러리가 IP 주소를 찾는 기능을 제공한다.</h1><p>그래서, 결국에 우리가 <a href="http://www.naver.com">www.naver.com</a> 주소를 DNS한테 “이거 IP 주소 알려줘” 라고 물어보면 “그래 그 IP 주소는 xxx.xxx.xxx.xxx야~ “ 라고 알려줄 것이다. 음 여기까지 굉장히 간단해보이지만 또 다른 의문은 그럼 브라우저는 도대체 어떻게 DNS 서버를 조회할 수 있는 거지 ? 브라우저와 DNS는 어떻게 연결되는 것일까? 라고 의문이 들것이다.</p><p>사실, DNS 서버 조회라는 것도 그냥 비슷하다 조회 메시지를 보내고, DNS에게 응답 메시지를 받는 것이다. 이건 DNS 서버에 대해 클라이언트로 동작하는 것인데 이 DNS 클라이언트에 해당하는 것이 <strong>DNS 리졸버</strong> 단순하게 <strong>리졸버</strong> 라고 부른다. 그리고 DNS의 원리를 사용하여 IP 주소를 조사하는 것이 <strong>네임 리졸루션</strong> 인데 이 리졸루션을 실행하는 것이 <strong>리졸버</strong>가 하는 일이다.</p><p>리졸버는 <strong>Socket 라이브러리</strong> 에 들어있는 부품 프로그램이다.</p><h1 id="4-리졸버를-이용하여-dns-서버를-조회한다">4. 리졸버를 이용하여 DNS 서버를 조회한다</h1><p>그래서 결국, 도메인명에서 IP를 조사할때 <strong>브라우저</strong>가 <strong>Socket 라이브러리의 리졸버</strong> 를 활용하여 리졸버를 호출하고 &gt; 리졸버가 DNS 서버에 조회 메시지를 보내고 &gt; DNS 서버에서 응답 메시지가 돌아오는 것이다.</p><p>그리고 리졸버가 이 응답메시지 내용 즉, IP 주소를 추출하여 브라우저에서 지정한 메모리 영역에 넣는 것이다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1"># 리졸버를 호출하는 방법
</span><span class="o">&lt;</span><span class="n">어플리케이션</span> <span class="n">프로그램</span> <span class="n">이름</span><span class="o">&gt;</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">매개변수</span><span class="o">&gt;</span><span class="p">)</span>
<span class="p">{</span>
 <span class="o">&lt;</span><span class="n">메모리영역</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">gethostbyname</span><span class="p">(</span><span class="s">"www.naver.com"</span><span class="p">)</span>
 <span class="o">&lt;</span><span class="n">HTTP</span> <span class="n">메시지</span> <span class="n">송신</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></table></code></div></div><h1 id="5-리졸버-내부의-작동">5. 리졸버 내부의 작동</h1><p>리졸버를 호출하게 되면 이제 제어가 리졸버에게 넘어간다. (프로그래밍 해본 사람은 이 의미가 무슨말인지 쉽게 알아들을 것이다) 그럼이 제어가 넘어간 리졸버 내부에서 어떻게 동작하는지 살펴보자.</p><p>먼저, DNS 서버에 문의하기 위한 메시지를 만든다. (HTTP 리퀘스트 메시지와 유사)</p><p>그러면 메시지를 DNS 서버에 보낸다.</p><p>그런데 이 메시지 송신 작업은 리졸버도 브라우저와 마찬가지로 네트워크에 대해 데이터를 송.수신하는 기능이 없기 때문에 OS 내부에 포함된 <strong>프로토콜 스택</strong> 을 호출하여 실행을 의뢰한다.</p><blockquote><p>프로토콜 스택 OS 내부에 내장된 네트워크 제어용 소프트웨어. ‘프로토콜 드라이버’, ‘TCP/IP 소프트웨어’ 등으로 부른다.</p></blockquote><p>리졸버가 프로토콜 스택을 호출하면 다시 제어가 넘어가고 결국 LAN 어댑터를 통해서 메시지가 DNS 서버를 향해 송신 되게 되는 것이다. 응답은 반대 방향으로 가서 결국 메모리 영역에 IP주소를 저장하게 되는 것이다. 이렇게 되면 리졸버의 동작이 끝나고 제어가 어플리케이션(브라우저)에게 다시 돌아오는 것이다.</p><p>그리고 참고로 DNS 서버도 서버니까 당연히 DNS 서버의 IP 주소가 필요하다. 이 경우 TCP/IP 설정 항목의 하나하나로 컴퓨터에 미리 설정되어 있기때문에 따로 조사할 필요 없다.</p><p>참고로 그럼 누가 내 DNS 서버 주소를 찾아주냐 ? OS 내부에서 자동으로 연결된 통신사 인터넷의 DNS IP 주소를 할당해준다. 물론 수동으로 내가 임의로 설정도 가능하다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="\assets\img\DNS서버와IP주소 (1).png" alt="DNS서버와IP주소 (1)" /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/computer-science/'>Computer Science</a>, <a href='/categories/network/'>Network</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%EC%84%B1%EA%B3%B5%EA%B3%BC-%EC%8B%A4%ED%8C%A8%EB%A5%BC-%EA%B2%B0%EC%A0%95%ED%95%98%EB%8A%94-1-%EC%9D%98-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%9B%90%EB%A6%AC/" class="post-tag no-text-decoration" >성공과 실패를 결정하는 1%의 네트워크 원리</a> <a href="/tags/chapter-01-%EC%9B%B9-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EA%B0%80-%EB%A9%94%EC%8B%9C%EC%A7%80%EB%A5%BC-%EB%A7%8C%EB%93%A0%EB%8B%A4/" class="post-tag no-text-decoration" >chapter 01 웹 브라우저가 메시지를 만든다</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Network] 어떻게 DNS 서버가 IP 주소를 조회할까 - Hoyeon&url=https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Network] 어떻게 DNS 서버가 IP 주소를 조회할까 - Hoyeon&u=https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Network] 어떻게 DNS 서버가 IP 주소를 조회할까 - Hoyeon&url=https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4665417785081320" data-ad-slot="8545275050" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%EB%B6%80%EB%8F%99%EC%82%B0-%EA%B1%B0%EB%9E%98%EB%9F%89/">[부동산] 서울아파트 거래량</a><li><a href="/posts/Programming-C++-%EC%83%81%EC%88%98-%EB%A9%A4%EB%B2%84-%ED%95%A8%EC%88%98%EC%99%80-this/">[Programming] C++ 상수 멤버 함수와 this</a><li><a href="/posts/C++%EA%B8%B0%EB%B3%B8%EB%AC%B8%EB%B2%95/">[Programming] 코테용 C++ 기본 문법 1</a><li><a href="/posts/golang/">[Golang] 문법 기억 더듬기</a><li><a href="/posts/Golang-goroutine-channel/">[Golang] goroutine channel</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/">파이썬</a> <a class="post-tag" href="/tags/%EC%82%BC%EC%84%B1%EC%97%AD%EB%9F%89%ED%85%8C%EC%8A%A4%ED%8A%B8/">삼성역량테스트</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%9B%90%EB%A6%AC-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">그림으로 배우는 구조와 원리 운영체제</a> <a class="post-tag" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/%EA%B3%B5%EB%A3%A1%EC%B1%85/">공룡책</a> <a class="post-tag" href="/tags/chapter-01-%EC%9B%B9-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EA%B0%80-%EB%A9%94%EC%8B%9C%EC%A7%80%EB%A5%BC-%EB%A7%8C%EB%93%A0%EB%8B%A4/">chapter 01 웹 브라우저가 메시지를 만든다</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div><div class = 'ad'> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4665417785081320" data-ad-slot="3815051924" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/HTTP%EB%A6%AC%ED%80%98%EC%8A%A4%ED%8A%B8%EB%A9%94%EC%8B%9C%EC%A7%80/"><div class="card-body"> <span class="timeago small" > Jan 17, 2021 <i class="unloaded">2021-01-17T17:33:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Network] HTTP 리퀘스트 메시지</h3><div class="text-muted small"><p> HTTP 리퀘스트 메시지를 작성한다 본 설명은 책 “성공과 실패를 결정하는 1%의 네트워크 원리”를 읽으며 제 나름대로 해석하고 정리해 보았습니다. 1. 탐험 여행은 URL 입력 부터 시작한다. 브라우저는 웹 서버에 액세스 하는 클라이언트 뿐 아니라 파일을 다운로드하고 업로드하는 FTP의 클라이언트 기능이나 메일의 클라이언트 기능도 가지고 있다....</p></div></div></a></div><div class="card"> <a href="/posts/DNS%EC%84%9C%EB%B2%84%EC%97%B0%EB%8C%80/"><div class="card-body"> <span class="timeago small" > Jan 19, 2021 <i class="unloaded">2021-01-19T02:03:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Network] 전세계 DNS 서버들은 어떻게 연동할까?</h3><div class="text-muted small"><p> 03 전 세계의 DNS 서버가 연대한다. 본 설명은 책 “성공과 실패를 결정하는 1%의 네트워크 원리”를 읽으며 제 나름대로 해석하고 정리해 보았습니다. 1. DNS 서버의 기본동작 DNS 서버의 기본 동작은 클라이언트에서 조회 메세지를 받고 조회의 내용을 응답하는 형태로 정보를 회답하는 일이다. 조회 메세지에는 세가지의 정보가 포함되어있는데 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%86%A1%EC%88%98%EC%8B%A0_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%8A%A4%ED%83%9D/"><div class="card-body"> <span class="timeago small" > Jan 19, 2021 <i class="unloaded">2021-01-19T16:20:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Network] 데이터 송수신하는 프로토콜 스택</h3><div class="text-muted small"><p> 04 프로토콜 스택에 메시지 송신을 의뢰한다. 본 설명은 책 “성공과 실패를 결정하는 1%의 네트워크 원리”를 읽으며 제 나름대로 해석하고 정리해 보았습니다. 1. 데이터 송수신 동작의 개요 이제 IP 주소를 알았으면 엑세스 대상 웹서버에 메시지를 송신하도록 OS 내부에 있는 프로토콜 스택에 의뢰를 한다. 데이터를 송 수신 하는 동작은 단연 브라...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/HTTP%EB%A6%AC%ED%80%98%EC%8A%A4%ED%8A%B8%EB%A9%94%EC%8B%9C%EC%A7%80/" class="btn btn-outline-primary"><p>[Network] HTTP 리퀘스트 메시지</p></a> <a href="/posts/%EB%A7%88%EB%B2%95%EC%82%AC%EC%83%81%EC%96%B4%EC%99%80%ED%86%A0%EB%84%A4%EC%9D%B4%EB%8F%84/" class="btn btn-outline-primary"><p>[백준] #20057 마법사 상어와 토네이도 Python (파이썬)</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hoyeonkim795-github-io-1.disqus.com/embed.js', disqusConfig: function() { this.page.title = '[Network] 어떻게 DNS 서버가 IP 주소를 조회할까'; this.page.url = 'https://hoyeonkim795.github.io/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/'; this.page.identifier = '/posts/DNS%EC%84%9C%EB%B2%84%EC%99%80_IP%EC%A3%BC%EC%86%8C/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">hoyeon</a>.</p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/%ED%8C%8C%EC%9D%B4%EC%8D%AC/">파이썬</a> <a class="post-tag" href="/tags/%EC%82%BC%EC%84%B1%EC%97%AD%EB%9F%89%ED%85%8C%EC%8A%A4%ED%8A%B8/">삼성역량테스트</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%9B%90%EB%A6%AC-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">그림으로 배우는 구조와 원리 운영체제</a> <a class="post-tag" href="/tags/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a> <a class="post-tag" href="/tags/c/">c++</a> <a class="post-tag" href="/tags/%EA%B3%B5%EB%A3%A1%EC%B1%85/">공룡책</a> <a class="post-tag" href="/tags/chapter-01-%EC%9B%B9-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EA%B0%80-%EB%A9%94%EC%8B%9C%EC%A7%80%EB%A5%BC-%EB%A7%8C%EB%93%A0%EB%8B%A4/">chapter 01 웹 브라우저가 메시지를 만든다</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hoyeonkim795.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
